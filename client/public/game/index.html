<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Web App</title>
    <link rel="stylesheet"
      href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"
      crossorigin="anonymous">
    <link rel="stylesheet" href="/game/styles.css">
    <link rel="icon" href="../img/favicon/wK.png" type="image/x-icon">

</head>
<body>
    <a href="/menu/mainmenu/mainmenu.html" class="home-link control-btn">Home</a>
    <h1>Chess Web App</h1>
    <div class="theme-switch">
        <button id="lightTheme" class="theme-btn active">Light Theme</button>
        <button id="darkTheme" class="theme-btn">Dark Theme</button>
    </div>
    <div id="myBoard" style="width: 700px"></div>
    <div class="game-info">
        <label>Status:</label>
        <div id="status"></div>
        
        <label>FEN:</label>
        <div class="fen-container">
          <div id="fen"></div>
          <!-- Copy button with image instead of text -->
          <button id="copyFen" class="copy-btn">
            <img class="copy-icon copy-light" src="../img/copyicon/copy-icon-light.png" alt="Copy FEN">
          </button>
        </div>
    
        <label>PGN:</label>
        <div class="pgn-container">
          <div id="pgn"></div>
          <button id="copyPgn" class="copy-btn">
            <img src="../img/copyicon/copy-icon-light.png" alt="Copy PGN" class="copy-icon">
          </button>
        </div>
    
        <label>Game ID:</label>
        <div class="game-id-container">
          <div id="game-id"></div>
          <button id="copyGameId" class="copy-btn">
            <img src="../img/copyicon/copy-icon-light.png" alt="Copy Game ID" class="copy-icon">
          </button>
          <button id="shareGameId" class="control-btn">Share Game</button>
        </div>

        <label>Actions:</label>
        <div class="actions">
          <button id="offer-draw-btn" class="control-btn">Offer Draw</button>
          <button id="resign-btn" class="control-btn">Resign</button>
          <button id="new-game-btn" class="control-btn" style="display: none;">New Game</button>
        </div>

        <label>Piece Sets:</label>
        <div class="pieceSet">
            <div class="pieceSet-btns">
              <button class="pieceSet-btn" id="lichess-btn">
                <img src="../img/chesspieces/lichess/wK.png" alt="King" class="pieceSet-icon">
              </button>
              <button class="pieceSet-btn" id="chesscom-btn">
                <img src="../img/chesspieces/chesscom/wK.png" alt="King" class="pieceSet-icon">
              </button>
            </div>
        </div>
    </div>

    <!-- Game End Popup -->
    <div id="game-end-popup" class="popup">
      <div id ="popup-content" class="popup-content">
          <h2 id="game-result-text">Game Over</h2>
          <div class="popup-buttons">
              <button id="exit-btn" class="popup-btn">Exit</button>
          </div>
      </div>
    </div>


    <!-- Scripts -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    <script src="/game/script.js"></script>

  <!-- Modal Overlay -->
  <div id="modal-overlay" style="display: none;"></div>

  <!-- Promotion Modal -->
  <div id="promote-modal" style="display: none;">
    <div id="promote-modal-content">
      <h3>Promote to:</h3>
      <div class="promotion-options">
        <button onclick="selectPromotion('q')" class="promotion-btn" id="queen-btn">
          <img src="../img/chesspieces/lichess/wQ.png" alt="Queen" class="promotion-icon">
        </button>
        <button onclick="selectPromotion('r')" class="promotion-btn" id="rook-btn">
          <img src="../img/chesspieces/lichess/wR.png" alt="Rook" class="promotion-icon">
        </button>
        <button onclick="selectPromotion('b')" class="promotion-btn" id="bishop-btn">
          <img src="../img/chesspieces/lichess/wB.png" alt="Bishop" class="promotion-icon">
        </button>
        <button onclick="selectPromotion('n')" class="promotion-btn" id="knight-btn">
          <img src="../img/chesspieces/lichess/wN.png" alt="Knight" class="promotion-icon">
        </button>
      </div>
    </div>
  </div>


</body>
</html>